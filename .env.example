# =============================================================================
# Insights — Environment Configuration
# =============================================================================
# Copy this file to .env and edit the values you need.
# Lines beginning with # are comments. Defaults shown in parentheses.
#
# Boolean values accept: true/1/yes or false/0/no (case-insensitive)
# =============================================================================

# ---------------------------------------------------------------------------
# Required
# ---------------------------------------------------------------------------

# IMPORTANT: Generate a unique secret key for production!
#   python3 -c "import secrets; print(secrets.token_urlsafe(42))"
INSIGHTS_SECRET_KEY=CHANGE_ME_TO_A_RANDOM_SECRET

# Admin user password (set on first init)
ADMIN_PASSWORD=admin

# Database password — used for both Superset and the PostgreSQL container
DATABASE_PASSWORD=superset

# ---------------------------------------------------------------------------
# Optional
# ---------------------------------------------------------------------------

# Application port (default: 8088)
#INSIGHTS_PORT=8088

# ---------------------------------------------------------------------------
# 1. Branding
# ---------------------------------------------------------------------------
# Customize the application name and logo shown in the navigation bar.
# Logo & favicon are auto-detected from assets/logo.png and assets/favicon.png.
# Override the URL paths below only if you need a different location.

#INSIGHTS_APP_NAME=Insights                                         # (Insights)
#INSIGHTS_APP_ICON=/static/assets/images/logo.png                   # URL path to logo
#INSIGHTS_LOGO_TARGET_PATH=/                                        # (/)
#INSIGHTS_LOGO_TOOLTIP=                                             # Hover text
#INSIGHTS_LOGO_RIGHT_TEXT=                                          # Text beside logo
#INSIGHTS_FAVICON=/static/assets/images/favicon.png                 # URL path to favicon

# ---------------------------------------------------------------------------
# 2. Theme (Ant Design token overrides)
# ---------------------------------------------------------------------------
# Customize the color palette, typography, and sizing.
# Light-mode vars (INSIGHTS_THEME_*) are used as defaults for both modes.
# Dark-mode vars (INSIGHTS_DARK_THEME_*) override only dark mode.
# Any dark-mode var left unset inherits the light-mode value.

# Brand logo sizing
#INSIGHTS_BRAND_LOGO_HEIGHT=                                        # e.g. 28px
#INSIGHTS_BRAND_LOGO_MARGIN=                                        # e.g. 8px 0

# --- Light mode colors (also used as dark-mode defaults) ---
#INSIGHTS_THEME_COLOR_PRIMARY=                                      # Primary brand color
#INSIGHTS_THEME_COLOR_ERROR=                                        # Error / danger
#INSIGHTS_THEME_COLOR_WARNING=                                      # Warning
#INSIGHTS_THEME_COLOR_SUCCESS=                                      # Success
#INSIGHTS_THEME_COLOR_INFO=                                         # Informational
#INSIGHTS_THEME_COLOR_BG_BASE=                                      # Base background
#INSIGHTS_THEME_COLOR_BG_LAYOUT=                                    # Layout background
#INSIGHTS_THEME_COLOR_TEXT_BASE=                                    # Base text color
#INSIGHTS_THEME_COLOR_LINK=                                         # Link color

# --- Dark mode color overrides (leave unset to inherit light-mode values) ---
#INSIGHTS_DARK_THEME_COLOR_PRIMARY=                                  # Primary brand color
#INSIGHTS_DARK_THEME_COLOR_ERROR=                                    # Error / danger
#INSIGHTS_DARK_THEME_COLOR_WARNING=                                  # Warning
#INSIGHTS_DARK_THEME_COLOR_SUCCESS=                                  # Success
#INSIGHTS_DARK_THEME_COLOR_INFO=                                     # Informational
#INSIGHTS_DARK_THEME_COLOR_BG_BASE=                                  # Base background
#INSIGHTS_DARK_THEME_COLOR_BG_LAYOUT=                                # Layout background
#INSIGHTS_DARK_THEME_COLOR_TEXT_BASE=                                # Base text color
#INSIGHTS_DARK_THEME_COLOR_LINK=                                     # Link color

# Sizing (shared across both modes)
#INSIGHTS_THEME_BORDER_RADIUS=6                                     # (6)
#INSIGHTS_THEME_FONT_SIZE=14                                        # (14)
#INSIGHTS_THEME_CONTROL_HEIGHT=32                                   # (32)

# Dark mode sizing overrides
#INSIGHTS_DARK_THEME_BORDER_RADIUS=                                  # Override for dark mode
#INSIGHTS_DARK_THEME_FONT_SIZE=                                      # Override for dark mode
#INSIGHTS_DARK_THEME_CONTROL_HEIGHT=                                 # Override for dark mode

# Typography
#INSIGHTS_THEME_FONT_FAMILY=                                        # e.g. Inter, sans-serif
#INSIGHTS_CUSTOM_FONT_URLS=                                         # Comma-separated URLs

# ---------------------------------------------------------------------------
# 3. UI Navigation Links
# ---------------------------------------------------------------------------
# Customize help and support links shown in the navigation bar.

#INSIGHTS_BUG_REPORT_URL=                                           # Bug report form URL
#INSIGHTS_BUG_REPORT_TEXT=Report a bug                              # (Report a bug)
#INSIGHTS_DOCUMENTATION_URL=                                        # Documentation URL
#INSIGHTS_DOCUMENTATION_TEXT=Documentation                          # (Documentation)
#INSIGHTS_TROUBLESHOOTING_LINK=                                     # Troubleshooting page
#INSIGHTS_PERMISSION_INSTRUCTIONS_LINK=                             # Permission help page

# ---------------------------------------------------------------------------
# 4. SMTP / Email (required for alerts & reports)
# ---------------------------------------------------------------------------

#INSIGHTS_SMTP_HOST=localhost                                       # (localhost)
#INSIGHTS_SMTP_PORT=25                                              # (25)
#INSIGHTS_SMTP_USER=superset                                        # (superset)
#INSIGHTS_SMTP_PASSWORD=superset                                    # (superset)
#INSIGHTS_SMTP_MAIL_FROM=superset@superset.com                     # (superset@superset.com)
#INSIGHTS_SMTP_STARTTLS=true                                        # (true)
#INSIGHTS_SMTP_SSL=false                                            # (false)

# ---------------------------------------------------------------------------
# 5. Security / Proxy
# ---------------------------------------------------------------------------

# Set to true when running behind a reverse proxy (nginx, ALB, etc.)
#INSIGHTS_ENABLE_PROXY_FIX=false                                    # (false)

# Cookie settings — enable SECURE for HTTPS deployments
#INSIGHTS_SESSION_COOKIE_SECURE=false                               # (false)
#INSIGHTS_SESSION_COOKIE_SAMESITE=Lax                               # (Lax)

# Talisman adds security headers (CSP, HSTS, etc.)
#INSIGHTS_TALISMAN_ENABLED=true                                     # (true)

# Force HTTPS via Talisman (auto-enabled when ENABLE_PROXY_FIX=true)
#INSIGHTS_FORCE_HTTPS=false                                         # (false)

# CORS origins for embedded dashboards (comma-separated)
#INSIGHTS_CORS_EMBED_ORIGINS=                                       # e.g. https://app.example.com

# ---------------------------------------------------------------------------
# 5a. Rate Limiting
# ---------------------------------------------------------------------------

#INSIGHTS_RATELIMIT_ENABLED=false                                   # (false)
#INSIGHTS_RATELIMIT_REDIS_DB=2                                      # (2)
#INSIGHTS_RATELIMIT_STORAGE_URI=                                    # Auto-configured from Redis

# ---------------------------------------------------------------------------
# 6. Feature Flags
# ---------------------------------------------------------------------------

#INSIGHTS_FEATURE_THUMBNAILS=true                                   # (true) Dashboard/chart thumbnails
#INSIGHTS_FEATURE_PLAYWRIGHT=true                                   # (true) Playwright for screenshots
#INSIGHTS_FEATURE_TAGGING=false                                     # (false) Tag system for organizing
#INSIGHTS_FEATURE_EMBEDDED=false                                    # (false) Embedded dashboards (iframe)
#INSIGHTS_FEATURE_EMBEDDABLE_CHARTS=true                            # (true) Embeddable chart links
#INSIGHTS_FEATURE_SSH_TUNNELING=false                               # (false) SSH tunnels for DB connections
#INSIGHTS_FEATURE_TEMPLATE_PROCESSING=false                         # (false) Jinja templates in SQL Lab
#INSIGHTS_FEATURE_GLOBAL_ASYNC_QUERIES=false                        # (false) WebSocket-based async queries
#INSIGHTS_FEATURE_THUMBNAILS_SQLA_LISTENERS=true                    # (true) Auto-invalidate thumbnails

# ---------------------------------------------------------------------------
# 7. Screenshot / Reports
# ---------------------------------------------------------------------------

# Internal URL the headless browser uses to capture screenshots
#INSIGHTS_WEBDRIVER_BASEURL=                                        # e.g. http://superset:8088/

# Public URL shown in email report links
#INSIGHTS_WEBDRIVER_BASEURL_USER_FRIENDLY=                          # e.g. https://insights.example.com

# Email report customization
#INSIGHTS_EMAIL_REPORTS_SUBJECT_PREFIX=[Report]                     # ([Report])
#INSIGHTS_EMAIL_REPORTS_CTA=Explore in Superset                     # (Explore in Superset)

# Dry run mode — suppress actual delivery (for testing)
#INSIGHTS_ALERT_DRY_RUN=false                                       # (false)

# Minimum interval between executions (minutes)
#INSIGHTS_ALERT_MINIMUM_INTERVAL_MINUTES=                           # Alerts
#INSIGHTS_REPORT_MINIMUM_INTERVAL_MINUTES=                          # Reports

# Fixed executor fallback chain
#INSIGHTS_ALERT_REPORTS_USE_FIXED_EXECUTOR=false                    # (false)
#INSIGHTS_ALERT_REPORTS_FIXED_EXECUTOR_USER=admin                   # (admin)

# Playwright settings
#INSIGHTS_SCREENSHOT_PLAYWRIGHT_TIMEOUT_MS=                         # Timeout in ms
#INSIGHTS_SCREENSHOT_PLAYWRIGHT_WAIT_EVENT=                         # load|domcontentloaded|networkidle

# Extra Chromium flags (space-separated)
#INSIGHTS_WEBDRIVER_EXTRA_ARGS=                                     # e.g. --disable-gpu --no-sandbox

# ---------------------------------------------------------------------------
# 8. Guest / Embedded Dashboards
# ---------------------------------------------------------------------------

# JWT secret for guest tokens — required if using embedded dashboards
#INSIGHTS_GUEST_TOKEN_JWT_SECRET=                                   # Generate a random secret
#INSIGHTS_GUEST_TOKEN_JWT_EXP=300                                   # (300) Expiry in seconds
#INSIGHTS_GUEST_ROLE_NAME=Public                                    # (Public) Guest role name

# ---------------------------------------------------------------------------
# 8a. Global Async Queries
# ---------------------------------------------------------------------------

#INSIGHTS_GLOBAL_ASYNC_QUERIES_JWT_SECRET=                          # Required when enabled

# ---------------------------------------------------------------------------
# 9. SQL Lab
# ---------------------------------------------------------------------------

#INSIGHTS_SQLLAB_DEFAULT_LIMIT=1000                                 # (1000) Default row limit
#INSIGHTS_SQL_MAX_ROW=100000                                        # (100000) Maximum rows returned
#INSIGHTS_SQLLAB_TIMEOUT=30                                         # (30) Query timeout in seconds

# ---------------------------------------------------------------------------
# 9a. Results Backend
# ---------------------------------------------------------------------------
# Use Redis instead of filesystem for query results (required for multi-worker)

#INSIGHTS_RESULTS_BACKEND_USE_REDIS=false                           # (false)
#REDIS_RESULTS_DB=1                                                 # (1) Redis DB number

# ---------------------------------------------------------------------------
# 10. Localization
# ---------------------------------------------------------------------------

#INSIGHTS_BABEL_DEFAULT_LOCALE=en                                   # (en)

# ---------------------------------------------------------------------------
# 11. Integrations
# ---------------------------------------------------------------------------

#INSIGHTS_MAPBOX_API_KEY=                                           # Mapbox (geospatial charts)
#INSIGHTS_SLACK_API_TOKEN=                                          # Slack (alert/report delivery)

# ---------------------------------------------------------------------------
# 12. Environment Tag
# ---------------------------------------------------------------------------
# Shows a colored badge in the navbar. Values: development, staging, production

#INSIGHTS_ENVIRONMENT_TAG=                                          # Leave unset for no badge
